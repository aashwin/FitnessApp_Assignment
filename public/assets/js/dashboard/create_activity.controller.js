"use strict";!function(){var e=angular.module("app");e.controller("createActivityController",["userService","activityService","$location","$scope","$routeParams",function(e,r,a,t,l){t.entryMode=0,t.errored=!1,"manual"==l.method?t.entryMode=1:"gpx"==l.method&&(t.entryMode=2),t.activityTypes=[{value:1,label:"Run"},{value:2,label:"Walk"},{value:3,label:"Cycle"}],t.measurementTypes=[{value:1609.34,label:"Miles"},{value:1e3,label:"KM"},{value:1,label:"Meters"}];var n=new Date;n.setHours(0),n.setMinutes(0),n.setSeconds(0),t.manualEntryModel={errors:[],activityType:t.activityTypes[0],distanceType:t.measurementTypes[0],dateTimeObj:moment(n)},t.addActivityManual=function(){t.manualEntryModel.errors=[],t.manualEntryModel.dateTime=Math.round(t.manualEntryModel.dateTimeObj.valueOf()/1e3),r.create(t.manualEntryModel).then(function(e){e.success?(t.errored=!1,a.path("/app/activity/"+e.object._id)):(t.manualEntryModel.errors=e.errors,t.errored=!0)},function(e){t.manualEntryModel.errors=e.errors,t.errored=!0}),console.log(t)}}])}();